<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    
    <!-- ‚úÖ Favicon with proper attributes -->
    <link rel="preload" href="%PUBLIC_URL%/favicon.ico" as="image" type="image/x-icon">
    <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
    
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5" />
    <meta name="theme-color" content="#667eea" />
    
    <!-- ‚úÖ Enhanced SEO Meta Tags -->
    <meta name="description" content="Wilson Muita - Technology, Programming, and Web Development Insights. High-quality articles on React, Node.js, JavaScript, and modern web development." />
    <meta name="keywords" content="technology, programming, web development, react, node.js, javascript, tutorials, wilson muita, software engineering, coding, frontend, backend" />
    <meta name="author" content="Wilson Muita" />
    <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1" />
    <meta name="copyright" content="Wilson Muita" />
    <meta name="language" content="en" />
    <meta name="revisit-after" content="7 days" />
    <meta name="rating" content="general" />
    <meta name="distribution" content="global" />
    
    <!-- ‚úÖ Open Graph Meta Tags for Social Sharing -->
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Wilson Muita - Technology & Programming Blog" />
    <meta property="og:description" content="Expert insights on web development, programming tutorials, and technology trends. Learn React, Node.js, JavaScript and more." />
    <meta property="og:image" content="%PUBLIC_URL%/default-og-image.jpg" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:image:alt" content="Wilson Muita - Technology & Programming Blog" />
    <meta property="og:url" content="https://wilsonmuita.com" />
    <meta property="og:site_name" content="Wilson Muita" />
    <meta property="og:locale" content="en_US" />
    
    <!-- ‚úÖ Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Wilson Muita - Technology & Programming Blog" />
    <meta name="twitter:description" content="Expert insights on web development, programming tutorials, and technology trends." />
    <meta name="twitter:image" content="%PUBLIC_URL%/default-og-image.jpg" />
    <meta name="twitter:image:alt" content="Wilson Muita - Technology & Programming Blog" />
    <meta name="twitter:creator" content="@WilsonMuit48811" />
    <meta name="twitter:site" content="@WilsonMuit48811" />
    
    <!-- ‚úÖ Facebook Meta Tags -->
    <meta property="fb:app_id" content="" />
    
    <!-- ‚úÖ Critical Preconnect for Performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://pagead2.googlesyndication.com">
    <link rel="preconnect" href="https://googleads.g.doubleclick.net">
    <link rel="preconnect" href="https://tpc.googlesyndication.com">
    <link rel="preconnect" href="https://api.wilsonmuita.com">
    
    <!-- ‚úÖ Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- ‚úÖ Structured Data for SEO (JSON-LD) -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebSite",
      "name": "Wilson Muita",
      "description": "Technology, Programming, and Web Development Insights - Expert tutorials on React, Node.js, JavaScript and modern web technologies",
      "url": "https://wilsonmuita.com",
      "inLanguage": "en-US",
      "publisher": {
        "@type": "Organization",
        "name": "Wilson Muita",
        "logo": {
          "@type": "ImageObject",
          "url": "https://wilsonmuita.com/logo.png",
          "width": "180",
          "height": "60"
        },
        "sameAs": [
          "https://twitter.com/WilsonMuit48811",
          "https://github.com/wilsonmuita"
        ]
      },
      "potentialAction": {
        "@type": "SearchAction",
        "target": {
          "@type": "EntryPoint",
          "urlTemplate": "https://wilsonmuita.com/search?q={search_term_string}"
        },
        "query-input": "required name=search_term_string"
      }
    }
    </script>

    <!-- ‚úÖ Additional Structured Data for Organization -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Organization",
      "name": "Wilson Muita",
      "url": "https://wilsonmuita.com",
      "logo": "https://wilsonmuita.com/logo.png",
      "description": "Technology, Programming, and Web Development Insights",
      "sameAs": [
        "https://twitter.com/WilsonMuit48811",
        "https://github.com/wilsonmuita",
        "https://linkedin.com/in/wilsonmuita"
      ],
      "contactPoint": {
        "@type": "ContactPoint",
        "email": "wilsonmuita41@gmail.com",
        "contactType": "customer service"
      }
    }
    </script>
    
    <!-- Apple Touch Icons -->
    <link rel="apple-touch-icon" href="%PUBLIC_URL%/default-og-image.jpg" />
    <link rel="apple-touch-icon" sizes="57x57" href="%PUBLIC_URL%/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="%PUBLIC_URL%/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="%PUBLIC_URL%/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="%PUBLIC_URL%/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="%PUBLIC_URL%/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="%PUBLIC_URL%/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="%PUBLIC_URL%/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="%PUBLIC_URL%/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="%PUBLIC_URL%/apple-icon-180x180.png">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://wilsonmuita.com" />
    
    <!-- Alternate Languages -->
    <link rel="alternate" hreflang="en" href="https://wilsonmuita.com" />
    <link rel="alternate" hreflang="x-default" href="https://wilsonmuita.com" />
    
    <!-- RSS Feed -->
    <link rel="alternate" type="application/rss+xml" title="Wilson Muita RSS Feed" href="https://wilsonmuita.com/rss.xml" />
    
    <!-- Web App Manifest -->
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
    
    <title>Wilson Muita - Technology, Programming & Web Development Blog</title>

    <!-- ‚úÖ Critical CSS (Inline for performance) -->
    <style>
      /* Critical above-the-fold styles */
      body {
        margin: 0;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
          'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
          sans-serif;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        background: #ffffff;
        color: #2d3748;
        line-height: 1.6;
        overflow-x: hidden;
      }

      /* Font fallback until Inter loads */
      @font-face {
        font-family: 'Inter';
        font-style: normal;
        font-weight: 400;
        font-display: swap;
        src: local('Inter Regular'), local('Inter-Regular');
      }

      .font-inter-loaded body {
        font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      }

      #root {
        min-height: 100vh;
        display: flex;
        flex-direction: column;
      }

      /* Loading animation */
      .app-loading {
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        flex-direction: column;
        gap: 1rem;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        z-index: 9999;
      }

      .loading-spinner {
        width: 40px;
        height: 40px;
        border: 4px solid rgba(255, 255, 255, 0.3);
        border-radius: 50%;
        border-top-color: #fff;
        animation: spin 1s ease-in-out infinite;
      }

      @keyframes spin {
        to { transform: rotate(360deg); }
      }

      /* AdSense Styles */
      .ad-container {
        margin: 30px 0;
        text-align: center;
        position: relative;
      }

      .ad-label {
        font-size: 11px;
        color: #666;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        margin-top: 8px;
        text-align: center;
      }

      /* Responsive ads */
      @media (max-width: 768px) {
        .ad-container {
          margin: 20px 0;
        }
      }

      /* Ensure ads don't break layout */
      .adsbygoogle {
        border-radius: 8px;
        overflow: hidden;
        display: block !important;
      }

      /* No JavaScript styles */
      .no-js-container {
        text-align: center;
        padding: 3rem;
        font-family: Arial, sans-serif;
        background: #f7fafc;
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
      }
      
      /* Prevent layout shift */
      ins.adsbygoogle[data-ad-status="unfilled"] {
        display: none !important;
      }
      
      ins.adsbygoogle[data-ad-status="filled"] {
        display: block !important;
      }
    </style>
    
    <!-- ‚úÖ Microsoft Clarity Heatmap & Analytics -->
    <script type="text/javascript">
      (function(c,l,a,r,i,t,y){
        c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
        t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
        y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
      })(window, document, "clarity", "script", "tmnk4u8wvm");
    </script>
    
    <!-- ‚úÖ Google AdSense Script (NO AUTO ADS INITIALIZATION HERE) -->
    <!-- This will be loaded conditionally via adsense-config.js -->
    <script>
      // Define AdSense configuration globally
      window._adsenseConfig = {
        clientId: 'ca-pub-4047817727348673',
        enabled: true,
        testMode: window.location.hostname === 'localhost' || 
                  window.location.hostname.includes('test') ||
                  window.location.hostname.includes('staging'),
        autoAdsConfigured: false, // Flag to track if auto ads have been configured
        pageLevelAdsConfigured: false // Flag to track if page-level ads have been configured
      };
    </script>
  </head>
  <body>
    <!-- ‚úÖ No JavaScript Fallback -->
    <noscript>
      <div class="no-js-container">
        <div style="max-width: 600px;">
          <h1 style="color: #2d3748; margin-bottom: 1rem;">JavaScript Required</h1>
          <p style="color: #4a5568; line-height: 1.6; margin-bottom: 2rem;">
            You need to enable JavaScript to run this application. Our blog uses modern web technologies 
            to provide the best reading experience with fast loading times and interactive features.
          </p>
          <div style="background: white; padding: 2rem; border-radius: 8px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);">
            <h3 style="color: #2d3748; margin-bottom: 1rem;">About Wilson Muita Blog</h3>
            <p style="color: #4a5568; line-height: 1.6;">
              Welcome to my technology blog where I share insights on web development, programming tutorials, 
              and the latest technology trends. I write about React, Node.js, JavaScript, and modern web technologies.
            </p>
            <p style="color: #4a5568; line-height: 1.6; margin-top: 1rem;">
              You can contact me at <a href="mailto:wilsonmuita41@gmail.com" style="color: #667eea;">wilsonmuita41@gmail.com</a>
            </p>
          </div>
          <div style="margin-top: 2rem; color: #718096; font-size: 0.9rem;">
            <p>¬© 2025 Wilson Muita. All rights reserved.</p>
          </div>
        </div>
      </div>
    </noscript>

    <!-- ‚úÖ Loading State (shown until React loads) -->
    <div id="root">
      <div class="app-loading">
        <div class="loading-spinner"></div>
        <div style="text-align: center;">
          <h2 style="margin: 0 0 0.5rem 0; font-weight: 600;">Wilson Muita</h2>
          <p style="margin: 0; opacity: 0.8;">Loading your experience...</p>
        </div>
      </div>
    </div>

    <!-- ‚úÖ Load config after DOM is ready -->
    <script src="%PUBLIC_URL%/config.js"></script>
    <!-- ‚úÖ Load AdSense configuration -->
    <script src="%PUBLIC_URL%/adsense-config.js"></script>
    
    <!-- ‚úÖ Critical: AdSense Error Prevention & Performance Optimization -->
    <script>
      // Suppress common AdSense errors
      (function() {
        const originalError = console.error;
        console.error = function(...args) {
          // Suppress AdSense related errors
          if (typeof args[0] === 'string') {
            const errorMessage = args[0];
            const suppressedPatterns = [
              'no_div',
              'adsbygoogle',
              'googleads',
              'googlesyndication',
              'TagError',
              'All ins elements',
              'Failed to load resource',
              'ERR_BLOCKED_BY_CLIENT',
              'ERR_BLOCKED_BY_RESPONSE',
              'ca-pub-4047817727348673',
              'NetworkError',
              'ad blocker'
            ];
            
            if (suppressedPatterns.some(pattern => errorMessage.includes(pattern))) {
              return;
            }
          }
          originalError.apply(console, args);
        };

        // Also suppress warning logs
        const originalWarn = console.warn;
        console.warn = function(...args) {
          if (typeof args[0] === 'string') {
            const warningMessage = args[0];
            const suppressedPatterns = [
              'adsbygoogle',
              'googleads',
              'googlesyndication'
            ];
            
            if (suppressedPatterns.some(pattern => warningMessage.includes(pattern))) {
              return;
            }
          }
          originalWarn.apply(console, args);
        };
      })();

      // Performance monitoring
      window.addEventListener('load', function() {
        console.log('üöÄ Page loaded successfully');
        
        // Remove loading state
        const loadingElement = document.querySelector('.app-loading');
        if (loadingElement && loadingElement.parentNode) {
          setTimeout(() => {
            loadingElement.style.opacity = '0';
            loadingElement.style.transition = 'opacity 0.5s ease';
            setTimeout(() => {
              loadingElement.style.display = 'none';
            }, 500);
          }, 1000);
        }
        
        // Load Inter font
        const interFont = new FontFace('Inter', 'url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2JL7SUc.woff2)');
        interFont.load().then(function(loadedFont) {
          document.fonts.add(loadedFont);
          document.documentElement.classList.add('font-inter-loaded');
        }).catch(function() {
          // Font loading failed, but that's okay
        });
      });

      // Global error handler
      window.addEventListener('error', function(e) {
        // Filter out AdSense errors
        if (e.message && e.message.includes('adsbygoogle')) return;
        if (e.filename && e.filename.includes('googlesyndication')) return;
        console.error('JavaScript Error:', e.message);
      });

      // Unhandled promise rejection handler
      window.addEventListener('unhandledrejection', function(e) {
        // Filter out AdSense promise rejections
        if (e.reason && e.reason.toString().includes('adsbygoogle')) return;
        console.warn('Unhandled Promise Rejection:', e.reason);
      });
    </script>

    <!-- ‚úÖ Enhanced AdSense Safe Loader -->
    <script>
      (function() {
        // Prevent duplicate AdSense script loading
        if (window._adSenseLoaded) return;
        window._adSenseLoaded = true;
        
        // Global tracking for ad slots
        window._adSenseSlots = window._adSenseSlots || new Set();
        
        // Enhanced ad push wrapper to prevent duplicates
        function wrapAdSensePush() {
          if (!window.adsbygoogle || !window.adsbygoogle.push) return;
          
          const originalPush = window.adsbygoogle.push;
          window.adsbygoogle.push = function() {
            try {
              const args = Array.from(arguments);
              
              // Check for duplicate enable_page_level_ads
              for (const config of args) {
                if (config && typeof config === 'object') {
                  // Prevent multiple page level ads configurations
                  if (config.enable_page_level_ads) {
                    if (window._adsenseConfig.pageLevelAdsConfigured) {
                      console.log('‚è© Skipping duplicate enable_page_level_ads configuration');
                      continue;
                    }
                    window._adsenseConfig.pageLevelAdsConfigured = true;
                  }
                  
                  // Check for duplicate slots
                  const slot = config.google_ad_slot || config.dataAdSlot;
                  if (slot && window._adSenseSlots.has(slot)) {
                    console.log('‚è© Skipping duplicate ad slot:', slot);
                    continue;
                  }
                  if (slot) {
                    window._adSenseSlots.add(slot);
                  }
                }
              }
              
              // Call original push
              return originalPush.apply(this, args);
            } catch (error) {
              // Silent fail for AdSense errors
              return;
            }
          };
        }
        
        // Initialize when AdSense loads
        function onAdSenseLoad() {
          window.adsbygoogle = window.adsbygoogle || [];
          wrapAdSensePush();
          console.log('‚úÖ AdSense wrapper initialized successfully');
        }
        
        // Check if AdSense is already loaded
        const adSenseScript = document.querySelector('script[src*="adsbygoogle"]');
        if (adSenseScript) {
          adSenseScript.addEventListener('load', onAdSenseLoad);
          // Also check if already loaded
          if (window.adsbygoogle) {
            setTimeout(onAdSenseLoad, 100);
          }
        }
        
        // Safe DOM ready check
        function domReady(callback) {
          if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', callback);
          } else {
            callback();
          }
        }
        
        // Initialize on DOM ready
        domReady(function() {
          // Ensure ad containers exist
          setTimeout(function() {
            // This ensures React has time to render initial components
            if (window.adsbygoogle && window.adsbygoogle.request) {
              // Request ad refresh for any existing ads
              const adElements = document.querySelectorAll('ins.adsbygoogle');
              adElements.forEach(function(ad) {
                try {
                  if (ad.dataset.adStatus !== 'filled') {
                    window.adsbygoogle.request(ad);
                  }
                } catch (e) {
                  // Silent fail
                }
              });
            }
          }, 2000);
        });
      })();
    </script>

    <!-- ‚úÖ Schema.org for Current Page -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebPage",
      "name": "Wilson Muita - Technology, Programming & Web Development Blog",
      "description": "Expert insights on web development, programming tutorials, and technology trends. Learn React, Node.js, JavaScript and more.",
      "url": "https://wilsonmuita.com",
      "datePublished": "2025-01-01",
      "dateModified": new Date().toISOString().split('T')[0]
    }
    </script>
    
    <!-- ‚úÖ Performance Optimization Script -->
    <script>
      // Defer non-critical scripts
      window.addEventListener('load', function() {
        // Load non-critical scripts after page load
        const nonCriticalScripts = [];
        
        nonCriticalScripts.forEach(function(src) {
          var script = document.createElement('script');
          script.src = src;
          script.async = true;
          script.defer = true;
          document.body.appendChild(script);
        });
        
        // Prefetch likely navigation targets
        const linksToPrefetch = [
          '/blog',
          '/about',
          '/contact'
        ];
        
        linksToPrefetch.forEach(function(link) {
          var prefetch = document.createElement('link');
          prefetch.rel = 'prefetch';
          prefetch.href = link;
          document.head.appendChild(prefetch);
        });
      });
      
      // Set up service worker for PWA
      if ('serviceWorker' in navigator && window.location.hostname !== 'localhost') {
        window.addEventListener('load', function() {
          navigator.serviceWorker.register('/service-worker.js').then(function(registration) {
            console.log('‚úÖ ServiceWorker registered with scope:', registration.scope);
          }).catch(function(err) {
            console.log('‚ùå ServiceWorker registration failed:', err);
          });
        });
      }
      
      // Handle page visibility for ad optimization
      document.addEventListener('visibilitychange', function() {
        if (document.visibilityState === 'visible' && window.adsbygoogle && window.adsbygoogle.request) {
          // Refresh ads after 10 seconds of becoming visible
          setTimeout(function() {
            try {
              const adElements = document.querySelectorAll('ins.adsbygoogle[data-ad-status="filled"]');
              adElements.forEach(function(ad) {
                window.adsbygoogle.request(ad);
              });
            } catch (e) {
              // Silent fail
            }
          }, 10000);
        }
      });
    </script>
    
    <!-- ‚úÖ Critical AdSense Fix Script -->
    <script>
      // This script runs after everything else to fix remaining AdSense issues
      (function() {
        // Wait for everything to settle
        setTimeout(function() {
          // Fix for "no_div" error: ensure all ad containers are properly attached
          const adContainers = document.querySelectorAll('.ad-container, ins.adsbygoogle');
          adContainers.forEach(function(container) {
            if (!document.body.contains(container)) {
              console.warn('Found detached ad container, reattaching...');
              document.body.appendChild(container);
            }
            
            // Ensure visibility
            if (container.style.display === 'none' || container.style.visibility === 'hidden') {
              container.style.display = 'block';
              container.style.visibility = 'visible';
            }
          });
          
          // Re-request ads for any unfilled slots
          if (window.adsbygoogle && window.adsbygoogle.request) {
            const unfilledAds = document.querySelectorAll('ins.adsbygoogle[data-ad-status="unfilled"], ins.adsbygoogle:not([data-ad-status])');
            unfilledAds.forEach(function(ad) {
              try {
                // Mark as requested to prevent duplicates
                if (!ad.dataset.requested) {
                  ad.dataset.requested = 'true';
                  setTimeout(function() {
                    window.adsbygoogle.request(ad);
                  }, Math.random() * 2000); // Stagger requests
                }
              } catch (e) {
                // Silent fail
              }
            });
          }
        }, 3000);
      })();
    </script>
  </body>
</html>